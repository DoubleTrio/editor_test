diff --git a/App.axaml.cs b/App.axaml.cs
index 228201f..4b546dd 100644
@@ -4,6 +4,7 @@ using Avalonia;
 using Avalonia.Controls;
 using Avalonia.Controls.ApplicationLifetimes;
 using Avalonia.Markup.Xaml;
using AvaloniaTest.Services;
 using AvaloniaTest.ViewModels;
 using AvaloniaTest.Views;
 using Microsoft.Extensions.DependencyInjection;
@@ -49,8 +50,24 @@ public partial class App : Application
         factory.Register<GroundEditorPageViewModel>("GroundEditor");
         factory.Register<RandomInfoPageViewModel>("RandomInfo");
 
        
        // TopLevel provider
        collection.AddSingleton<Func<TopLevel?>>(x => () =>
        {
            if (ApplicationLifetime is IClassicDesktopStyleApplicationLifetime topWindow)
                return TopLevel.GetTopLevel(topWindow.MainWindow);
            
            if (ApplicationLifetime is ISingleViewApplicationLifetime singleViewPlatform)
                return TopLevel.GetTopLevel(singleViewPlatform.MainView);

            return null;
        });
        
        collection.AddSingleton<DialogService>();
        
         var vm = services.GetRequiredService<MainWindowViewModel>();
         
        
         if (ApplicationLifetime is IClassicDesktopStyleApplicationLifetime desktop)
         {
             desktop.MainWindow = new MainWindow
@@ -66,17 +83,7 @@ public partial class App : Application
             };
         }
 
        // TopLevel provider
        collection.AddSingleton<Func<TopLevel?>>(x => () =>
        {
            if (ApplicationLifetime is IClassicDesktopStyleApplicationLifetime topWindow)
                return TopLevel.GetTopLevel(topWindow.MainWindow);
            
            if (ApplicationLifetime is ISingleViewApplicationLifetime singleViewPlatform)
                return TopLevel.GetTopLevel(singleViewPlatform.MainView);
 
            return null;
        });
         base.OnFrameworkInitializationCompleted();
     }
 }
\ No newline at end of file
diff --git a/ViewModels/DialogBoxes/RenameViewModel.cs b/ViewModels/DialogBoxes/RenameViewModel.cs
index 045e208..f182319 100644
@@ -1,16 +1,16 @@
 ﻿using System;
 using System.Collections.Generic;
using System.Reactive;
 using System.Text;
using System.Text.Json.Serialization;
using System.Threading.Tasks;
 using ReactiveUI;
 
 namespace AvaloniaTest.ViewModels
 {
    public class RenameViewModel : ViewModelBase
    public class RenameViewModel: DialogViewModel
     {
        public RenameViewModel()
        {
            Name = "";
        }
     
 
         private string name;
         public string Name
@@ -18,6 +18,96 @@ namespace AvaloniaTest.ViewModels
             get => name;
             set => this.RaiseAndSetIfChanged(ref name, value);
         }
        
        
        
        // [ObservableProperty] private string _title = "Confirm";
        // [ObservableProperty] private string _message = "Are you sure?";
        // [ObservableProperty] private string _confirmText = "Yes";
        // [ObservableProperty] private string _cancelText = "No";
        // [ObservableProperty] private string _iconText = "\xe4e0";
        // [ObservableProperty] private string _statusText = "";
        // [ObservableProperty] private string _progressText = "";
        //
        // [ObservableProperty] private double _dialogWidth = double.NaN;
        // [ObservableProperty] private double _dialogHeight = double.NaN;
        //
        // [ObservableProperty]
        private bool _busy;
        public bool Busy
        {
            get => _busy;
            set => this.RaiseAndSetIfChanged(ref _busy, value);
        }

        private bool _confirmed;
        public bool Confirmed
        {
            get => _confirmed;
            set => this.RaiseAndSetIfChanged(ref _confirmed, value);
        }

        private string _statusText = string.Empty;
        public string StatusText
        {
            get => _statusText;
            set => this.RaiseAndSetIfChanged(ref _statusText, value);
        }

        private string _progressText = string.Empty;
        public string ProgressText
        {
            get => _progressText;
            set => this.RaiseAndSetIfChanged(ref _progressText, value);
        }

        [JsonIgnore]
        public Func<RenameViewModel, Task<bool>> OnConfirm { get; set; } = _ => Task.FromResult(true);

        public ReactiveCommand<Unit, Unit> ConfirmCommand { get; }
        public ReactiveCommand<Unit, Unit> CancelCommand { get; }

        public RenameViewModel()
        {
            Name = "";
            // CanExecute observables
            var canExecute = this.WhenAnyValue(vm => vm.Busy, busy => !busy);

            ConfirmCommand = ReactiveCommand.CreateFromTask(ConfirmAsync, canExecute);
            CancelCommand = ReactiveCommand.CreateFromTask(CancelAsync, canExecute);
        }

        private async Task ConfirmAsync()
        {
            if (Busy)
                return;

            Busy = true;
            StatusText = string.Empty;
            ProgressText = "Processing...";

            var result = await OnConfirm(this);

            Busy = false;

            if (!result)
                return;

            Confirmed = true;
            Close();
        }

        private Task CancelAsync()
        {
            Confirmed = false;
            Close();
            return Task.CompletedTask;
        }

        private void Close()
        {
            // Your window/dialog closing logic here
        }
 
     }
 }
diff --git a/ViewModels/MainWindowViewModel.cs b/ViewModels/MainWindowViewModel.cs
index ab8d286..8b347fc 100644
@@ -212,10 +212,18 @@ public class MainWindowViewModel : ViewModelBase, IDialogProvider
 
     public readonly PageFactory _pageFactory;
     public readonly TabEvents _tabEvents;
    public MainWindowViewModel() : this(new PageFactory(new DesignServiceProvider()), new TabEvents()) {}
    public MainWindowViewModel(PageFactory pageFactory, TabEvents tabEvents)
    public readonly DialogService _dialogService;

    public MainWindowViewModel() : this(new PageFactory(new DesignServiceProvider()), new TabEvents(),
        new DialogService(() => null))
     {
        // if (!Avalonia.Controls.Design.IsDesignMode) throw new InvalidOperationException("Parameterless constructor is only for design time use");
 
    }
    public MainWindowViewModel(PageFactory pageFactory, TabEvents tabEvents, DialogService dialogService)
    {
        
        _dialogService = dialogService;
         _tabEvents = tabEvents;
         
         
diff --git a/ViewModels/NodeBase.cs b/ViewModels/NodeBase.cs
index f3a223f..bd730f5 100644
@@ -173,14 +173,19 @@ public class DataRootNode : OpenEditorNode
         AddCommand2 = ReactiveCommand.CreateFromTask(async () =>
         {
             // Show a name entry window
            RenameWindow window = new RenameWindow();
            RenameViewModel vm = new RenameViewModel();
            window.DataContext = vm;
            Window? mainWindow = (Application.Current?.ApplicationLifetime as IClassicDesktopStyleApplicationLifetime)?.MainWindow;

            bool result = await window.ShowDialog<bool>(mainWindow);
            if (!result)
                return;
            // RenameWindow window = new RenameWindow();
            // RenameViewModel vm = new RenameViewModel();
            // window.DataContext = vm;
            //
            
            
            // var mw = visual.FindAncestorOfType<MainWindow>();
            MainWindow mainWindow = (Application.Current?.ApplicationLifetime as IClassicDesktopStyleApplicationLifetime)?.MainWindow as MainWindow;

            var x = mainWindow.DataContext;
            // bool result = await window.ShowDialog<bool>(mainWindow);
            // if (!result)
                // return;
 
             // lock (GameBase.lockObj)
             // {
diff --git a/Views/DialogBoxes/RenameWindow.axaml b/Views/DialogBoxes/RenameView.axaml
similarity index 75%
rename from Views/DialogBoxes/RenameWindow.axaml
rename to Views/DialogBoxes/RenameView.axaml
index 887ca49..b38355d 100644
@@ -1,12 +1,11 @@
﻿<Window xmlns="https://github.com/avaloniaui"
﻿<UserControl xmlns="https://github.com/avaloniaui"
         xmlns:views="using:AvaloniaTest.Views"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
         xmlns:vm="clr-namespace:AvaloniaTest.ViewModels"
         mc:Ignorable="d"
        x:Class="AvaloniaTest.Views.RenameWindow"
        Title="{Binding Name}"
        x:Class="AvaloniaTest.Views.RenameView"
         Width="200" Height="100"
         x:DataType="vm:RenameViewModel">
   <Design.DataContext>
@@ -22,8 +21,8 @@
       <ColumnDefinition/>
     </Grid.ColumnDefinitions>
     <TextBox Text="{Binding Name}" VerticalAlignment="Center" Margin="4" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"/>
    <Button HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" Click="btnOK_Click" Margin="4" Grid.Row="1" Grid.Column="0">OK</Button>
    <Button HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" Click="btnCancel_Click" Margin="4" Grid.Row="1" Grid.Column="1">Cancel</Button>
    <Button HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"  Margin="4" Grid.Row="1" Grid.Column="0">OK</Button>
    <Button HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"  Margin="4" Grid.Row="1" Grid.Column="1">Cancel</Button>
   </Grid>
</Window>
</UserControl>
 
diff --git a/Views/DialogBoxes/RenameView.axaml.cs b/Views/DialogBoxes/RenameView.axaml.cs
new file mode 100644
index 0000000..6bcd13b
@@ -0,0 +1,26 @@
﻿using Avalonia;
using Avalonia.Controls;
using Avalonia.Interactivity;
using Avalonia.Markup.Xaml;

namespace AvaloniaTest.Views
{
    public partial class RenameView : UserControl
    {
        public RenameView()
        {
            InitializeComponent();
        }

        // public void btnOK_Click(object sender, RoutedEventArgs e)
        // {
        //     this.Close(true);
        // }
        //
        //
        // public void btnCancel_Click(object sender, RoutedEventArgs e)
        // {
        //     this.Close(false);
        // }
    }
}
diff --git a/Views/DialogBoxes/RenameWindow.axaml.cs b/Views/DialogBoxes/RenameWindow.axaml.cs
deleted file mode 100644
index d7e53c8..0000000
@@ -1,26 +0,0 @@
﻿using Avalonia;
using Avalonia.Controls;
using Avalonia.Interactivity;
using Avalonia.Markup.Xaml;

namespace AvaloniaTest.Views
{
    public partial class RenameWindow : Window
    {
        public RenameWindow()
        {
            this.InitializeComponent();
        }

        public void btnOK_Click(object sender, RoutedEventArgs e)
        {
            this.Close(true);
        }


        public void btnCancel_Click(object sender, RoutedEventArgs e)
        {
            this.Close(false);
        }
    }
}
diff --git a/Views/Editors/DevControlView.axaml b/Views/Editors/DevControlView.axaml
index e870dc4..2fef290 100644
@@ -51,6 +51,37 @@
             <!-- <Setter Property="Foreground" Value="Red" />  -->
             <!-- <Setter Property="Background" Value="Red" /> -->
         </Style>
        
        
        

            <Style Selector="TabControl">
                <Setter Property="Template">
                    <ControlTemplate>
                        <DockPanel>
                            <!-- Wrap the tab headers in a ScrollViewer -->
                            <ScrollViewer DockPanel.Dock="Top" 
                                          HorizontalScrollBarVisibility="Auto"
                                          VerticalScrollBarVisibility="Disabled">
                                <ItemsPresenter Name="PART_ItemsPresenter">
                                    <ItemsPresenter.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <!-- Use StackPanel for horizontal layout without wrapping -->
                                            <StackPanel Orientation="Horizontal" />
                                        </ItemsPanelTemplate>
                                    </ItemsPresenter.ItemsPanel>
                                </ItemsPresenter>
                            </ScrollViewer>
                        
                            <!-- Content area -->
                            <ContentPresenter Name="PART_SelectedContentHost"
                                              Margin="12,4, 12,0"
                                              Content="{TemplateBinding SelectedContent}"
                                              ContentTemplate="{TemplateBinding SelectedContentTemplate}" />
                        </DockPanel>
                    </ControlTemplate>
                </Setter>
            </Style>
     </UserControl.Styles>
 
  
@@ -217,6 +248,7 @@
                 
             </TabItem>
 

         </TabControl>
     </Border>
 </UserControl>
\ No newline at end of file
diff --git a/Views/MainWindow.axaml b/Views/MainWindow.axaml
index 705bde8..b5c1118 100644
@@ -23,9 +23,7 @@
     </Design.DataContext>
 
     <Window.Resources>

        <local:IsTypeConverter x:Key="IsTypeConverter" />
        <local:NodeTitleConverter x:Key="NodeTitleConverter"/>
        
         <converters:MarginMultiplierConverter
             x:Key="CustomTreeViewItemLeftMarginConverter"
             Indent="3"
@@ -301,7 +299,7 @@
             <!-- Editor Panel -->
             <Grid Grid.Column="2" RowDefinitions="Auto, *" ColumnDefinitions="*, 32">
                 <!-- Tabs Row -->
                <views:TabBarView Grid.Column="0"  Height="30" Margin="2,0,16,0" VerticalAlignment="Bottom" />
                <views:TabBarView Grid.Column="0"  Height="30" Margin="2,0,12,0" VerticalAlignment="Bottom" />
 
                 <!-- Tab Switcher Button -->
                 <Button Grid.Column="1" Classes="icon_button" VerticalAlignment="Bottom"
@@ -320,16 +318,16 @@
 
                 
                 <!-- Editor Content -->
                <ScrollViewer Grid.Row="1" Grid.ColumnSpan="2"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Auto">
                    <Panel>
                <!-- <ScrollViewer Grid.Row="1" Grid.ColumnSpan="2" -->
                <!--               VerticalScrollBarVisibility="Auto" -->
                <!--               HorizontalScrollBarVisibility="Auto"> -->
                    <Panel Grid.Row="1"  Grid.ColumnSpan="2">
                         <ContentControl Content="{Binding TemporaryTab}" 
                                        IsVisible="{Binding TemporaryTab, Converter={x:Static ObjectConverters.IsNotNull}}" />
                                                                               IsVisible="{Binding TemporaryTab, Converter={x:Static ObjectConverters.IsNotNull}}" />
                         <ContentControl Content="{Binding ActivePage}" 
                                         IsVisible="{Binding TemporaryTab, Converter={x:Static ObjectConverters.IsNull}}" />
                     </Panel>
                </ScrollViewer>
                <!-- </ScrollViewer> -->
                 <!-- Temporary Tab -->
                 <!-- <ScrollViewer Grid.Row="1" Grid.ColumnSpan="2" -->
                 <!--               VerticalScrollBarVisibility="Auto" -->
diff --git a/Views/MainWindow.axaml.cs b/Views/MainWindow.axaml.cs
index b54240a..b105f26 100644
@@ -103,6 +103,7 @@ public partial class MainWindow : ChromelessWindow
 
     private void MasterTreeView_OnDoubleTapped(object? sender, TappedEventArgs e)
     {

         if (DataContext is MainWindowViewModel vm && sender is TreeView { SelectedItem: not null } treeView)
         {
             var selectedItem = (OpenEditorNode)treeView.SelectedItem;
@@ -200,13 +201,36 @@ public partial class MainWindow : ChromelessWindow
     private void MasterTreeView_OnContextRequested(object? sender, ContextRequestedEventArgs e)
     {
 
      

        if (sender is not TreeView { SelectedItems: { } selected } dataGrid)
        {
            return;
        }

        if (e.Source is Control { DataContext: DataItemNode } view)
        {
            
            Console.WriteLine(view.DataContext);
            Console.WriteLine(view.Parent.DataContext);
            Console.WriteLine(view.FindAncestorOfType<TreeViewItem>().DataContext);
            Console.WriteLine(view.FindAncestorOfType<TreeViewItem>().FindAncestorOfType<TreeViewItem>().DataContext);
            
        }
        
         if (e.Source is not Visual visual)
             return;
         
        Console.WriteLine("self" + visual);
         var current = visual.GetSelfAndVisualAncestors().OfType<TreeViewItem>().FirstOrDefault();
         
         var parent = visual.GetSelfAndVisualAncestors().OfType<TreeViewItem>().Skip(1).FirstOrDefault();
        



        if (DataContext is not MainWindowViewModel mwvm)
            return;

         if (current?.DataContext is DataItemNode node &&
             parent?.DataContext is DataRootNode parentNode)
         {
@@ -215,7 +239,7 @@ public partial class MainWindow : ChromelessWindow
             menu.Items.Add(new MenuItem { Header = "Resave as Patch",  Command = parentNode.ResaveAsPatch, CommandParameter = node });
             menu.Items.Add(new Separator());
             menu.Items.Add(new MenuItem { Header = "Edit" });
            menu.Items.Add(new MenuItem { Header = "Delete" });
            menu.Items.Add(new MenuItem { Header = "Delete", Command = parentNode.DeleteCommand,  CommandParameter = node });
 
             menu.Closed += (_, _) => current.ContextMenu = null;
 
@@ -229,7 +253,44 @@ public partial class MainWindow : ChromelessWindow
             menu.Items.Add(new MenuItem { Header = "Resave all as File",  Command = root.ResaveAllAsFileCommand });
             menu.Items.Add(new MenuItem { Header = "Resave all as Diff", Command = root.ResaveAllAsDiffCommand });
             menu.Items.Add(new Separator());
            menu.Items.Add(new MenuItem { Header = "Add", Command = root.AddCommand2 });
            var men = new MenuItem { Header = "Add"};
            men.Click += async (_, _) =>
            {



                var renameViewModel = new RenameViewModel();
                // OnConfirm = async (vm) =>
                // {
                //     await Task.Delay(2000);
                //
                //     vm.ProgressText = "This is taking a while...";
                //
                //     await Task.Delay(2000);
                //     
                //     vm.StatusText = "Oh no, something went wrong...";
                //
                //     return true;
                // }
            

                // await dialogService.ShowDialog(mainViewModel, confirmViewModel);
                //
                // // Ignore if we clicked cancel
                // if (!confirmViewModel.Confirmed)
                //     return false;

              
                Console.WriteLine("aaaa work?");
                await mwvm._dialogService.ShowDialog(mwvm, renameViewModel);

                Console.WriteLine(renameViewModel.Name);
                Console.WriteLine("did it work?");

            };
            
            menu.Items.Add(men);
            // menu.Items.Add(new MenuItem { Header = "Add", Command = root.AddCommand2 });
             menu.Closed += (_, _) => current.ContextMenu = null;
             current.ContextMenu = menu;
             menu.Open(current);
diff --git a/Views/TabBarView.axaml b/Views/TabBarView.axaml
index 508aac7..7cc0488 100644
@@ -6,6 +6,7 @@
              xmlns:vm="using:AvaloniaTest.ViewModels"
              xmlns:c="using:AvaloniaTest.Converters"
              xmlns:v="using:AvaloniaTest.Views"
             xmlns:panels="clr-namespace:Tabalonia.Panels;assembly=Tabalonia"
              xmlns:conv="using:AvaloniaTest.Converters"
              xmlns:controls="clr-namespace:Tabalonia.Controls;assembly=Tabalonia"
              xmlns:local="clr-namespace:AvaloniaTest.Converters"
@@ -15,6 +16,22 @@
              x:Name="MainTabBar">
   
   <UserControl.Resources>
    <!--  <ControlTheme x:Key="{x:Type controls:TabsControl}" TargetType="controls:TabsControl"> -->
    <!--     <Setter Property="Margin" Value="0" /> -->
    <!--     <Setter Property="Padding" Value="{DynamicResource TabItemMargin}" /> -->
    <!--     <Setter Property="Background" Value="{DynamicResource TabControlBackground}" /> -->
  
    <!-- -->
    <!--     <Style Selector="^[TabStripPlacement=Left] /template/ ItemsPresenter#PART_ItemsPresenter > WrapPanel"> -->
    <!--         <Setter Property="Orientation" Value="Vertical" /> -->
    <!--     </Style> -->
    <!--     <Style Selector="^[TabStripPlacement=Right] /template/ ItemsPresenter#PART_ItemsPresenter > WrapPanel"> -->
    <!--         <Setter Property="Orientation" Value="Vertical" /> -->
    <!--     </Style> -->
    <!--     <Style Selector="^[TabStripPlacement=Top] /template/ ItemsPresenter#PART_ItemsPresenter"> -->
    <!--         <Setter Property="Margin" Value="{DynamicResource TabControlTopPlacementItemMargin}" /> -->
    <!--     </Style> -->
    <!-- </ControlTheme> -->
     <local:IconKeyToGeometryConverter x:Key="IconKeyConverter"/>
     <ControlTheme x:Key="DragTabItemThumb" TargetType="controls:LeftPressedThumb">
       <Setter Property="HorizontalAlignment" Value="Stretch" />
@@ -37,6 +54,72 @@
   </Design.DataContext>
     
   <UserControl.Styles>
    <Style Selector="controls|TabsControl">
    <Setter Property="Template">
            <ControlTemplate>
                <Border BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        Background="{TemplateBinding Background}"
                        HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalAlignment}">
                    <!-- <DockPanel> -->
                    <Grid ColumnDefinitions="Auto, *, Auto">
                      <Thumb Grid.Column="0" Name="PART_LeftDragWindowThumb"
                             MinWidth="{TemplateBinding LeftThumbWidth}" />
                      <ScrollViewer Grid.Column="1" HorizontalScrollBarVisibility="Hidden"
                                    VerticalScrollBarVisibility="Disabled">
                        <ItemsPresenter Grid.Column="1" 
                                        Name="PART_ItemsPresenter"
                                        ItemsPanel="{TemplateBinding ItemsPanel}" />
                      </ScrollViewer>
                      <Thumb Grid.Column="2" Name="PART_RightDragWindowThumb"
                             MinWidth="{TemplateBinding RightThumbWidth}" />
                    </Grid>
    
                        <!-- <panels:TopPanel Name="PART_TopPanel" -->
                        <!--                  Background="{TemplateBinding Background}" -->
                        <!--                  HorizontalAlignment="Stretch" -->
                        <!--                  DockPanel.Dock="{TemplateBinding TabStripPlacement}"> -->
                        <!-- -->
                        <!--     ~1~ <ContentPresenter Name="PART_LeftContent" @1@ -->
                        <!--     ~1~                   Content="{TemplateBinding LeftContent}" /> @1@ -->
                        <!--     ~1~ @1@ -->
                        <!--     ~1~ <Thumb Name="PART_LeftDragWindowThumb" @1@ -->
                        <!--     ~1~        MinWidth="{TemplateBinding LeftThumbWidth}" /> @1@ -->
                        <!-- -->
                        <!-- -->
                        <!--     -->
                        <!-- -->
                        <!--     ~1~ <Button Name="PART_AddItemButton" @1@ -->
                        <!--     ~1~         Command="{Binding AddItemCommand, RelativeSource={RelativeSource TemplatedParent}}" @1@ -->
                        <!--     ~1~         Theme="{StaticResource AddItemCommandButton}" @1@ -->
                        <!--     ~1~         IsVisible="{TemplateBinding ShowDefaultAddButton}"/> @1@ -->
                        <!--     ~1~ @1@ -->
                        <!--     ~1~ <Thumb Name="PART_RightDragWindowThumb" @1@ -->
                        <!--     ~1~        MinWidth="{TemplateBinding RightThumbWidth}" /> @1@ -->
                        <!--     ~1~ @1@ -->
                        <!--     ~1~ <ContentPresenter Name="PART_RightContent" @1@ -->
                        <!--     ~1~                   Content="{TemplateBinding RightContent}" /> @1@ -->
                        <!-- </panels:TopPanel> -->
                        <!-- -->
                        <!-- <ContentPresenter Name="PART_SelectedContentHost" -->
                        <!--                   Margin="{TemplateBinding Padding}" -->
                        <!--                   HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" -->
                        <!--                   VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" -->
                        <!--                   Content="{TemplateBinding SelectedContent}" -->
                        <!--                   ContentTemplate="{TemplateBinding SelectedContentTemplate}" /> -->
                    <!-- </DockPanel> -->
                </Border>
            </ControlTemplate>
        </Setter>
      </Style>
    

    <!-- <Style Selector="TabControl /template/ TabPanel"> -->
    <!--   <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/> -->
    <!-- </Style> -->

     <Style Selector="Path#CloseTabPath">
       <Setter Property="Opacity" Value="0"></Setter>
     </Style>
@@ -187,13 +270,13 @@
     <!--               HorizontalScrollBarVisibility="Auto" -->
     <!--               VerticalScrollBarVisibility="Disabled" -->
     <!--               PointerWheelChanged="ScrollTabs"> -->
      <Grid ColumnDefinitions="*, 16">
      <Grid ColumnDefinitions="*">
         
         <controls:TabsControl SelectedItem="{Binding SelectedItem}" 
                               ShowDefaultCloseButton="False"
                               ShowDefaultAddButton="False" 
                              TabItemWidth="200"
                               LeftThumbWidth="0"
                              ScrollViewer.HorizontalScrollBarVisibility="Visible"
                               
                               RightThumbWidth="0"
                               Padding="0"
@@ -202,7 +285,7 @@
             <DataTemplate DataType="{x:Type vm:EditorPageViewModel}">
               
               
              <Grid Background="Transparent">
              <Grid Background="Transparent" >
                 <Border Height="30">
                 <ToolTip.Tip>
                   <Grid>
@@ -213,7 +296,7 @@
                 </ToolTip.Tip>
               
                 <!-- <Grid Width="{Binding Source={x:Static vm:Preferences.Instance}, Path=UseFixedTabWidth, Converter={x:Static c:BoolConverters.ToPageTabWidth}}" Height="30" ColumnDefinitions="Auto,*,Auto" VerticalAlignment="Center"> -->
                  <Grid Width="300" Height="30" ColumnDefinitions="*,Auto" VerticalAlignment="Center">
                  <Grid Height="30" ColumnDefinitions="*,Auto" VerticalAlignment="Center">
               
                   <!-- <Path Grid.Column="0" -->
                   <!--       Width="12" Height="12" Margin="12,0" -->
@@ -290,29 +373,36 @@
             </DataTemplate>
             
           </controls:TabsControl.ItemTemplate>
        </controls:TabsControl>
          
            <!-- -->
            <!-- <controls:> -->
            <!--    -->
            <!--    -->
            <!--    -->
            <!-- </controls:> -->
          </controls:TabsControl>
         <!-- ItemsSource="{Binding Pages}" -->
         <!-- ItemsSource="{Binding Pages}" -->
         <!-- SelectedItem="{Binding SelectedItem, Mode=TwoWay}" -->
        
        <Button Grid.Column="1" Classes="icon_button"
                Width="16" Height="16"
                Margin="8,0"
                Command="{Binding AddNewTab}"
                IsVisible="{Binding !#MainTabBar.IsScrollerVisible}">
          <ToolTip.Tip>
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
              <TextBlock Text="{DynamicResource Text.PageTabBar.New}" VerticalAlignment="Center"/>
              <TextBlock Margin="16,0,0,0"
                         Text="{OnPlatform Ctrl+T, macOS=⌘+T}"
                         FontSize="11"
                         VerticalAlignment="Center"
                         Foreground="{DynamicResource MenuFlyoutItemKeyboardAcceleratorTextForeground}"/>
            </StackPanel>
          </ToolTip.Tip>
      
          <Path Width="12" Height="12" Data="{StaticResource Icons.Plus}"/>
        </Button>
        <!-- <Button Grid.Column="1" Classes="icon_button" -->
        <!--         Width="16" Height="16" -->
        <!--         Margin="8,0" -->
        <!--         Command="{Binding AddNewTab}" -->
        <!--         IsVisible="{Binding !#MainTabBar.IsScrollerVisible}"> -->
        <!--   <ToolTip.Tip> -->
        <!--     <StackPanel Orientation="Horizontal" VerticalAlignment="Center"> -->
        <!--       <TextBlock Text="{DynamicResource Text.PageTabBar.New}" VerticalAlignment="Center"/> -->
        <!--       <TextBlock Margin="16,0,0,0" -->
        <!--                  Text="{OnPlatform Ctrl+T, macOS=⌘+T}" -->
        <!--                  FontSize="11" -->
        <!--                  VerticalAlignment="Center" -->
        <!--                  Foreground="{DynamicResource MenuFlyoutItemKeyboardAcceleratorTextForeground}"/> -->
        <!--     </StackPanel> -->
        <!--   </ToolTip.Tip> -->
        <!-- -->
        <!--   <Path Width="12" Height="12" Data="{StaticResource Icons.Plus}"/> -->
        <!-- </Button> -->
       </Grid>
     <!-- </ScrollViewer> -->
 
diff --git a/Views/TreeSearchView.axaml b/Views/TreeSearchView.axaml
index 2a3fab1..3bcda9c 100644
@@ -7,10 +7,7 @@
              x:DataType="vm:TreeSearchViewModel"
              xmlns:local="clr-namespace:AvaloniaTest.Converters"
              x:Class="AvaloniaTest.Views.TreeSearchView">
    
    <UserControl.Resources>
        <local:SvgKeyToPathConverter x:Key="SvgKeyToPathConverter"/>
    </UserControl.Resources>

     <Design.DataContext>
         <vm:TreeSearchViewModel/>
     </Design.DataContext>
